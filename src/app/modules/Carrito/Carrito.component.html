<div id="content" class="app-content">
  <div class="row">
    <div class="col-md-12">
      <h1 class="page-header">Carrito</h1>
    </div>
  </div>
<div class="row">
<div class="col-12">

  <!-- Menú lateral izquierdo: Carrito -->
  <div class="sidebar" style="left: 83%;">
    <h3>Carrito de compras</h3>
    <mat-card *ngFor="let item of carrito" class="cart-card">
      <div class="cart-item">
        <img [src]="getImagenUrl(item.articulo.urlImagen)" alt="{{item.articulo.nombre}}" class="cart-img">
        <div class="cart-info">
          <p><b>{{ item.articulo.nombre }}</b></p>
          <p>Cantidad: {{ item.cantidad }}</p>
          <p>Precio: {{ item.articulo.precio | currency:'MXN':'symbol' }}</p>
        </div>
      </div>
    </mat-card>
    <button mat-raised-button color="accent" class="buy-btn" (click)="comprar()">Comprar</button>
  </div>

  <!-- Contenido principal: Artículos -->
  <div class="content-carrito">
    <div class="grid">
      <mat-card *ngFor="let articulo of articulos" class="articulo-card">
        <img mat-card-image class="imagen" [src]="getImagenUrl(articulo.urlImagen)" alt="{{articulo.nombre}}">
        <mat-card-content>
          <h2>{{ articulo.nombre }}</h2>
          <p>{{ articulo.descripcion }}</p>
          <p><b>Precio:</b> {{ articulo.precio | currency: "MXN":"symbol" }}</p>
          <p><b>Stock:</b> {{ articulo.stock }}</p>

          <mat-form-field appearance="fill" class="cantidad-input">
            <mat-label>Cantidad</mat-label>
            <input matInput type="number" [(ngModel)]="cantidades[articulo.idArticulo]" 
                   [max]="articulo.stock" min="1">
          </mat-form-field>
        </mat-card-content>

        <mat-card-actions>
          <button mat-raised-button color="primary"
                  (click)="agregarAlCarrito(articulo)">
            Agregar al carrito
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
</div>
</div>

